-- TERCERA FORMA NORMAL
--ARTICULOS,ID_ARTÍCULO,NOMBRE,DESCRIPCION,PRECIO,CREACION,ACTUALIZACION,PESO,DIMENSIONES,DESCUENTO,UBICACION,DISPONIBILIDAD,GARANTIA,COMENTARIOS INTERNOS,IMPUESTO
--LOTES,ID_LOTE,ID_ARTÍCULO,CANTIDAD,FECHA RECEPCION,FECHA CADUCIDAD,PRECIO_COMPRA,PROVEEDOR,UBICACION,CREACION,ACTUALIZACION,COSTE,COMENTARIOS,STOCK_TOTAL,STOCK_RESERVADO,STOCK_DESECHADO
--PEDIDOS,ID_PEDIDO,ID_CLIENTE,FECHA_COMPRA,ESTADO,PAGADO,DIRECCION_ENVIO,NOTAS_INTERNAS,FECHA_ENTREGA,FECHA_ENVIO,INICIO_PREPARACION,FIN_PREPARACION,CODIGO_DESCUENTO,TOTAL_PAGADO,FECHA_PAGO,DESCUENTO
--CLIENTES,ID_CLIENTE,NOMBRE,APELLIDOS,NIF,DIRECCION,CORREO,TELEFONO,MOROSO
--LINEA DE PEDIDO,NUM_LINEA,ID_PEDIDO,ID_LOTE,PRODUCTO,CANTIDAD,PRECIO_UNITARIO,DESCUENTO,ESTADO
--FORMAS DE PAGO,ID_FORMA_DE_PAGO,ID_CLIENTE,----(POR DEFINIR)
--TIPOS DE PRODUCTO,ID_TIPO_PRODUCTO,NOMBRE, CATEGORIA,FECHA_CREACION,IMAGEN
--ENVIOS,ID_ENVIO,FECHA_ENVIO,ORIGEN,DESTINO,PESO,DIMENSIONES,ESTADO,PROVEEDOR,PRECIO_ENVIO
--COMENTARIOS,ID_COMENTARIO,ID_ARTÍCULO,ID_CLIENTE,TEXTO,FECHA_COMENTARIO,PUNTUACION,ESTADO
--DEVOLUCIONES,ID_DEVOLUCION,ID_CLIENTE,PRODUCTO,FECHA_PETICION,FECHA_DEVOLUCION,ESTADO,MOTIVO,COMENTARIOS
--IMÁGENES,ID_IMAGEN,ID_ARTÍCULO,RUTA
--HASTAGS,ID_HASTAG,NOMBRE,
--LINEAS DE DEVOLUCION,ID_LINEA_DEV,ID_DEVOLUCION,ID_ARTÍCULO,ID_LOTE,CANTIDAD,PRECIO_UNITARIO,ESTADO
--ENVIOS_DEVOLUCIONES,ID_ENVIO_DEV,ID_DEVOLUCION
--PEDIDOS_ENVIOS,ID_PEDIDO,ID_ENVIO
--TIPOS-PRODUCTO_ARTICULOS,ID_TIPO_PRODUCTO,ID_ARTÍCULO
--ARTICULO_HASTAGS,ID_ARTÍCULO,ID_HASTAG
-----------------------

CREATE TABLE empleados (
    id INT AUTO_INCREMENT COMMENT 'PRIMARY KEY Identificador único del empleado',
    nombre VARCHAR(50) NOT NULL COMMENT 'Nombre del empleado',
    apellido VARCHAR(50) NOT NULL COMMENT 'Apellido del empleado',
    edad INT COMMENT 'Edad del empleado',
    salario DECIMAL(10, 2) COMMENT 'Salario del empleado',
    fecha_contratacion DATETIME COMMENT 'Fecha en la que el empleado fue contratado'
) COMMENT='Tabla que almacena información de empleados';

CREATE TABLE ARTICULOS (
    ID_ARTICULO VARCHAR(6)  COMMENT 'PRIMARY KEY Identificador unico del articulo',
    NOMBRE VARCHAR(100) NOT NULL COMMENT 'Nombre del articulo',
    DESCRIPCION TEXT COMMENT 'Comentario del articulo para su descripcion al publico',
    PRECIO DECIMAL(10,2) NOT NULL COMMENT 'Precio final del articulo',
    CREACION DATETIME NOT NULL COMMENT 'Fecha de creacion del articulo',
    ACTUALIZACION DATETIME NOT NULL COMMENT 'Fecha de ultimo cambio del articulo',
    PESO DECIMAL(10,2) NOT NULL COMMENT 'Peso del articulo',
    DIMENSIONES VARCHAR(100) NOT NULL COMMENT 'Dimesiones tipo AAxLLxFF (alto, largo y fondo)',
    DESCUENTO DECIMAL(4) NOT NULL COMMENT 'PORCENTAJE DE DESCUENTO  EJEMPLO: 12,02',
    UBICACION VARCHAR(10) COMMENT 'CODIGO DE LA UBICACION',
    DISPONIBILIDAD BOOLEAN NOT NULL COMMENT ' TRUE QUEDA STOCK, FALSE NO QUE DA STOCK',
    GARANTIA INT NOT NULL COMMENT 'Garantia en dias, si es un año 365',
    COMENTARIOS_INTERNOS VARCHAR(255) 'Comentarios de fabrica',
    IMPUESTO DECIMAL(4) NOT NULL COMMENT 'Dato porcentual'
) COMMENT='Tabla de articulos';

CREATE TABLE LOTES (
    ID_LOTE VARCHAR(6)  COMMENT 'PRIMARY KEY Identificador unico del lote',
    ID_ARTICULO VARCHAR(6) COMMENT 'PRIMARY KEY Identificador unico del articulo',
    CANTIDAD INT NOT NULL COMMENT 'Cantidad de unidades del lote',
    RECEPCION DATETIME NOT NULL COMMENT 'Fecha de alta del lote en el almacén',
    CADUCIDAD DATETIME NOT NULL COMMENT 'Fecha de caducidad del lote',
    PRECIO_COMPRA DECIMAL(10,2) NOT NULL COMMENT 'Precio de compra de cada unidad del lote',
    PROVEEDOR VARCHAR(60) NOT NULL COMMENT 'Proveedor del producto',
    UBICACION VARCHAR(8) COMMENT 'Ubicación en el almacén',
    CREACION DATETIME COMMENT 'Fecha primera creación del lote',
    ACTUALIZACION DATETIME COMMENT 'Fecha última actualización del lote',
    COSTE DECIMAL(10,2) COMMENT 'Precio de venta al publico, posible trigger PRECIO_COMPRA+ARTICULO.IMPUESTO+PORCENTAJE',
    PORCENTAJE DECIMAL(4) COMMENT 'Porcentaje de gancia, dato porcentual',
    COMENTARIOS TEXT COMMENT 'Comentario del lote para gestión interna',
    --STOCK_TOTAL 
    STOCK_RESERVADO INT NOT NULL COMMENT 'Cantidad de unidades reservadas',
    STOCK_DESECHADO INT NOT NULL COMMENT 'Cantidad de unidades rotas'
)COMMENT='Tabla de lotes';

CREATE TABLE PEDIDOS (
    ID_PEDIDO INT AUTO_INCREMENT  COMMENT 'PRIMARY KEY Identificador unico del pedido',
    ID_CLIENTE INT AUTO_INCREMENT COMMENT 'PRIMARY KEY Identificador unico del cliente',
    FECHA_COMPRA DATETIME NOT NULL COMMENT 'Fecha y hora de compra del pedido',
    ESTADO  ENUM('Pendiente', 'En proceso', 'Enviado', 'Entregado', 'Cancelado', 'Devuelto','Reenbolsado','En espera de pago','Pagado','En espera de stock','En espera de confirmacion') NOT NULL COMMENT 'ESTADO ACTUAL DEL PEDIDO',
    PAGADO BOOLEAN NOT NULL COMMENT 'TRUE PAGADO, FALSE POR PAGAR',
    ID_DIRECCION_ENVIO INT COMMENT 'IDENTIFICADOR UNICO DE LA TABLA DIRECCIONES DE ENVIO'
    NOTAS_INTERNAS VARCHAR(254) COMMENT 'NOTAS INTERNAS SOBRE EL PEDIDO',
    FECHA_ENTREGA DATE COMMENT 'FECHA EN LA QUE EL PEDIDO FUE ENTREGADO',
    FECHA_ENVIO DATE COMMENT 'FECHA EN LA QUE EL PEDIDO SALIO DE LA EMPRESA',
    INICIO_PREPARACION DATETIME COMMENT 'FECHA Y HORA EN LA QUE SE EMPEZO A PREPARAR EL PEDIDO',
    FIN_PREPARACION DATETIME COMMENT 'FECHA Y HORA EN LA QUE SE TERMINÓ DE PREPARAR EL PEDIDO',
    TOTAL_PAGADO DECIMAL(10,2) COMMENT 'TOTAL PAGADO',
    FECHA_PAGO DATETIME COMMENT 'FECHA Y HORA EN LA QUE SE REALIZÓ EL PAGO',
    PRECIO DECIMAL(10,2) COMMENT 'CAMPO AUTO CALCULADO CON PROCEDIMIENTO DEL PRECIO TOTAL DE LA SUMA DE LOS ARTICULOS DESCONTANDO EL DESCUENTO',
    DESCUENTO FLOAT NOT NULL COMMENT 'DINERO QUE SE RESTA AL PRECIO TOTAL'
)COMMENT='Tabla de pedidos';

CREATE TABLE CLIENTES(
    ID_CLIENTE INT AUTO_INCREMENT COMMENT 'PRIMARY KEY IDENTIFICADOR ÚNICO DEL CLIENTE',
    NOMBRE VARCHAR(80) NOT NULL COMMENT 'NOMBRE DEL CLIENTE O NOMBRE DE LA EMPRESA',
    APELLIDOS VARCHAR(160) COMMENT 'APELLIDOS DEL CLIENTE',
    TIPO_DOCUMENTO ENUM('NIF','CIF') NOT NULL COMMENT 'PERSONA O EMPRESA',
    IDENTIDAD VARCHAR(9) NOT NULL COMMENT 'NIF O NIE DEL CLIENTE', 
    CORREO VARCHAR(120) COMMENT 'CORREO DEL CLIENTE', 
    TELEFONO VARCHAR(15) COMMENT 'TELEFONO DEL CLIENTE',
    MOROSO BOOLEAN COMMENT 'FALSE = NO MOROSO, TRUE=MOROSO'
)COMMENT='TABLA GENERAL DE CLIENTES';

CREATE TABLE DIRECCIONES_ENVIO(
    ID_DIRECCION_ENVIO INT AUTO_INCREMENT COMMENT 'PRIMARY KEY Identificador único del LA DIRECCIÓN DE ENVIO',
    ID_CLIENTE INT  COMMENT 'PRIMARY KEY Identificador de la tabla CLIENTES',
    TITULO VARCHAR(50) NOT NULL COMMENT 'TITULO QUE EL CLIENTE LE DA A ESTA DIRECCION',
    DIRECCION VARCHAR(254) NOT NULL COMMENT 'NOMBRE DE LA CALLE, PORTAL, ESCALERA...'
    CIUDAD VARCHAR(100) NOT NULL COMMENT 'NOMBRE DE LA CIUDAD',
    PROVINCIA VARCHAR(100) NOT NULL COMMENT 'NOMBRE DE LA PROVINCIA',
    CODIGO_POSTAL VARCHAR(5) NOT NULL COMMENT 'NUMERO DEL CODIGO POSTAL',
    PAIS VARCHAR(100) NOT NULL COMMENT 'NOMBRE DEL PAIS'
) COMMENT='TABLA PARA LAS DIRECCIONES DE ENVIO, UN CLIENTE PUEDE TENER VARIAS DIRECCIONES';

CREATE TABLE LINEAS_DE_PEDIDO(
   NUM_LINEA INT AUTO_INCREMENT COMMENT' PRIMARY KEY IDENTIFICADOR DE LAS LINEAS DE PEDIDO',
   ID_PEDIDO INT  COMMENT 'PRIMARY KEY IDENTIFICADOR DE LA TABLA PEDIDOS',
   ID_ARTICULO VARCHAR(6) NOT NULL COMMENT 'IDENTIFICADOR DEL ARTICULO TABLA ARTICULOS',
   ID_LOTE VARCHAR(6) NOT NULL COMMENT 'IDENTIFICADOR DEL LOTE TABLA LOTES',
   CANTIDAD INT NOT NULL COMMENT 'CANTIDAD DE ARTICULOS QUE SE AÑADEN AL PEDIDO',
   PRECIO_UNITARIO DECIMAL(10,2) NOT NULL COMMENT 'PRECIO POR UNIDAD, COLUMNA COSTE DE LA TABLA LOTES'
   DESCUENTO DECIMAL(10,2) COMMENT 'DINERO QUE SE RESTA AL PRECIO UNITARIO',
   ESTADO BOOLEAN COMMENT 'FALSE-> NO SERVIDO, TRUE-> SERVIDO'
) COMMENT='TABLA PARA LAS LINEAS DE LOS PEDIDOS';

CREATE TABLE CATEGORIAS(
   ID_CATEGORIA INT AUTO_INCREMENT COMMENT 'PRIMARY KEY ID DE CATEGORIA DE PRODUCTO',
   NOMBRE VARCHAR(50) COMMENT 'NOMBRE DEL TIPO DE PRODUCTO',
   FECHA_CREACION DATETIME COMMENT 'FECHA DE CREACION DE LA CATEGORIA DEL PRODUCTO',
   IMAGEN VARCHAR(255) COMMENT 'RUTA DE LA IMAGEN REPRESENTATIVA DE LA CATEGORIA',
);

CREATE TABLE ENVIOS(
   ID_ENVIO INT AUTO_INCREMENT COMMENT 'PRIMARY KEY DE ENVIOS',
   FECHA_ENVIO DATETIME NOT NULL COMMENT 'FECHA FIN DEL ENVIO',
   ORIGEN VARCHAR(255) NOT NULL COMMENT 'ORIGEN DEL ENVIO',
   DESTINO VARCHAR(255) NOT NULL COMMENT 'DESTINO DEL ENVIO',
   PESO DECIMAL(6,2) NOT NULL COMMENT 'PESO TOTAL DEL BULTO',
   DIMENSIONES VARCHAR(50) NOT NULL COMMENT 'DIMENSIONES DEL BULTO ALTO X ANCHO X FONDO',
   ESTADO ENUM('PREPARANDO EN ORIGEN','PREPARADO EN ORIGEN','ENVIADO','TERMINADO','CANCELADO') NOT NULL COMMENT 'ESTADOS DEL ENVIO',
   PROVEEDOR VARCHAR(255) NOT NULL COMMENT 'EMPRESA DE MENSAJERIA',
   PRECIO DECIMAL(8,2) NOT NULL COMMENT 'PRECIO DEL ENVIO'
);

CREATE TABLE COMENTARIOS(
   ID_COMENTARIO INT AUTO_INCREMENT COMMENT 'IDENTIFICADOR DEL COMENTARIO',
   ID_ARTICULO VARCHAR(6)  COMMENT 'PRIMARY KEY Identificador unico del articulo',
   ID_CLIENTE INT  COMMENT 'PRIMARY KEY Identificador de la tabla CLIENTES',
   TEXTO TEXT COMMENT 'CONTENIDO DEL COMENTARIO'
   FECHA_COMENTARIO DATETIME COMMENT 'FECHA DEL COMENTARIO',
   PUNTUACION INT COMMENT 'PUNTUACIÓN DEL COMENTARIO',
   ESTADO ENUM('VISIBLE','NO VISIBLE')
);

CREATE TABLE DEVOLUCIONES(
   ID_DEVOLUCION INT AUTO_INCREMENT COMMENT 'IDENTIFICADOR DE LA DEVOLUCION',
   ID_CLIENTE INT COMMENT 'PRIMARY KEY Identificador de la tabla CLIENTES',
   ID_ARTICULO VARCHAR(6)  COMMENT 'PRIMARY KEY Identificador unico del articulo',
   ID_LOTE VARCHAR(6)  COMMENT 'PRIMARY KEY Identificador unico del lote',
   FECHA_PETICION DATETIME COMMENT 'FECHA DE PETICIÓN DE LA DEVOLUCION',
   FECHA_DEVOLUCION DATETIME COMMENT 'FECHA QUE TERMINA LA DEVOLUCION',
   ESTADO ENUM('PEDIDA','EN REVISION','ACEPTADA','CANCELADA','TERMINADA'),
   MOTIVO TEXT COMMENT 'MOTIVO DE LA DEVOLUCION',
   COMENTARIOS TEXT COMMENT 'COMENTARIOS DE LA EMPRESA SOBRE LA DEVOLUCION'
);

CREATE TABLE IMAGENES(
   ID_IMAGEN INT AUTO_INCREMENT COMMENT 'IDENTIFICADOR DE LA IMAGEN',
   ID_ARTICULO INT COMMENT 'IDENTIFICADOR DEL ARTICULO',
   RUTA VARCHAR(255) COMMENT 'RUTA DEL ARCHIVO DE IMAGEN'
);

CREATE TABLE HASTAGS(
   ID_HASTAG INT AUTO_INCREMENT COMMENT 'IDENTIFICADOR DEL HASTAG',
   NOMBRE VARCHAR(50) NOT NULL COMMENT 'NOMBRE DEL HASTAG'
);

CREATE TABLE LINEAS_DE_DEVOLUCION(
   ID_LINEA_DEV INT AUTO_INCREMENT COMMENT 'IDENTIFICADOR DE LA LINEA DE DEVOLUCION',
   ID_DEVOLUCION INT COMMENT 'IDENTIFICADOR DE LA DEVOLUCION',
   ID_ARTICULO INT COMMENT 'IDENTIFICADOR DEL ARTICULO',
   ID_LOTE INT COMMENT 'IDENTIFICADOR DEL LOTE',
   CANTIDAD INT COMMENT 'CANTIDAD DE PRODUCTOS DE LA LINEA',
   PRECIO_UNITARIO DECIMAL (10,2) COMMENT 'PRECIO DE UN PRODUCTO UNITARIO',
   ESTADO ENUM('ROTURA','CADUCIDAD','TIEMPO DE PRUEBA')
);

CREATE TABLE ENVIOS_DEVOLUCIONES(
   ID_ENVIO INT COMMENT 'PRIMARY KEY DE ENVIOS',
   ID_DEVOLUCION INT 'PRIMARY KEY DEVOLUCIONES'
);

CREATE TABLE PEDIDOS_ENVIOS(
   ID_ENVIO INT COMMENT 'PRIMARY KEY DE ENVIOS',
   ID_PEDIDO INT COMMENT 'PRIMARY KEY DE PEDIDOS'
);

CREATE TABLE CATEGORIAS_ARTICULOS(
   ID_CATEGORIA INT COMMENT 'PRIMARY KEY DE CATEGORIA',
   ID_ARTICULO INT COMMENT 'PRIMARY KEY DEL ARTICULO'
);

CREATE TABLE ARTICULO_HASTAG(
   ID_ARTICULO INT COMMENT 'PRIMARY KEY DEL ARTICULO',
   ID_HASTAG INT COMMENT 'PRIMARY KEY DEL HASTAG'
);


--ARTICULOS,ID_ARTÍCULO,NOMBRE,DESCRIPCION,PRECIO,CREACION,ACTUALIZACION,PESO,DIMENSIONES,DESCUENTO,UBICACION,DISPONIBILIDAD,GARANTIA,COMENTARIOS INTERNOS,IMPUESTO
--LOTES,ID_LOTE,ID_ARTÍCULO,CANTIDAD,FECHA RECEPCION,FECHA CADUCIDAD,PRECIO_COMPRA,PROVEEDOR,UBICACION,CREACION,ACTUALIZACION,COSTE,COMENTARIOS,STOCK_TOTAL,STOCK_RESERVADO,STOCK_DESECHADO
--PEDIDOS,ID_PEDIDO,ID_CLIENTE,FECHA_COMPRA,ESTADO,PAGADO,DIRECCION_ENVIO,NOTAS_INTERNAS,FECHA_ENTREGA,FECHA_ENVIO,INICIO_PREPARACION,FIN_PREPARACION,CODIGO_DESCUENTO,TOTAL_PAGADO,FECHA_PAGO,DESCUENTO
--CLIENTES,ID_CLIENTE,NOMBRE,APELLIDOS,NIF,DIRECCION,CORREO,TELEFONO,MOROSO
--LINEA DE PEDIDO,NUM_LINEA,ID_PEDIDO,ID_LOTE,PRODUCTO,CANTIDAD,PRECIO_UNITARIO,DESCUENTO,ESTADO
--FORMAS DE PAGO,ID_FORMA_DE_PAGO,ID_CLIENTE,----(POR DEFINIR)
--(CATEGORIAS)TIPOS DE PRODUCTO,ID_CATEGORIA,NOMBRE,FECHA_CREACION,IMAGEN
--ENVIOS,ID_ENVIO,FECHA_ENVIO,ORIGEN,DESTINO,PESO,DIMENSIONES,ESTADO,PROVEEDOR,PRECIO_ENVIO
--COMENTARIOS,ID_COMENTARIO,ID_ARTÍCULO,ID_CLIENTE,TEXTO,FECHA_COMENTARIO,PUNTUACION,ESTADO
--DEVOLUCIONES,ID_DEVOLUCION,ID_CLIENTE,ARTICULO,FECHA_PETICION,FECHA_DEVOLUCION,ESTADO,MOTIVO,COMENTARIOS
--IMAGENES,ID_IMAGEN,ID_ARTÍCULO,RUTA
--HASTAGS,ID_HASTAG,NOMBRE,
--LINEAS DE DEVOLUCION,ID_LINEA_DEV,ID_DEVOLUCION,ID_ARTÍCULO,ID_LOTE,CANTIDAD,PRECIO_UNITARIO,ESTADO
--ENVIOS_DEVOLUCIONES,ID_ENVIO_DEV,ID_DEVOLUCION
--PEDIDOS_ENVIOS,ID_PEDIDO,ID_ENVIO
--CATEGORIAS_ARTICULOS,ID_CATEGORIA,ID_ARTÍCULO
--ARTICULO_HASTAGS,ID_ARTÍCULO,ID_HASTAG
